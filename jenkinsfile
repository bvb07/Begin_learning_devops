pipeline {
    agent any
    stages {
        stage('start'){
            steps{
                sh '''
                cd compose
                pwd
                docker --version
                ls -a
                '''
                echo '*************************************************'
            }
          stage('build'){
              steps{
                  sh '''
                  docker-compose up -d --build
                  curl -v http:localhost:3000
                  '''
                  echo '*************************************************'
              }
          }
          stage('stop'){
              steps{
                  sh '''
                  docker-compose down --volumes
                   '''
           }
        }
       
        }

        
    }
}
